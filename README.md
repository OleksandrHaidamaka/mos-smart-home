mos-light - проект по управлению IoT вещами
на базе операционной системы mongooseOS (https://mongoose-os.com).
В основе проекта лежит модуль ESP8266-E12.
Для передачи данными используется протокол MQTT.

Все конфигурационные настройки ведутся из файла
src/config.yaml.
А именно: 
1) Производится настройка WIFI.
2) MQTT брокера.
3) Binding портов ввода-вывода к соответствующим исполнительным механизмам*.

Типовую схему подключения кнопки и лампы можно посмотреть на 
схеме dsn/mos-light.pdf.
Кнопка подключается одним контактом к земле, а вторым на соответствующий порт.
Лампа управляется через твердотельное реле.
Порт контроллера подключается напрямую на вход управления реле.

Предусмотренна возможность регулирования мощности нагрузки с помощью
диммера. Схему диммера можно посмотреть в файле dsn/dimmer.pdf. 
Для диммирования используется два порта:
один - для управления углом фазы, настроенным на выход, второй - на вход с подтяжкой
к питанию, для детектирования пересечения нуля.

Если у вас есть вопросы к проекту обращайтесь, с удовольствием отвечу.
Вы можете поддержать проект, сообщите мне об этом и я скину реквезиты карточки.

e-mail: landgrafchik@yandex.ru
skype: landgraf_87

*под исполнительными механизмами следует понимать бытовые приборы такие как:
лампа, розетка, кнопка, выключатель и т.д.
